<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bookstore Purgatory</title>
  <link rel="stylesheet" href="style.css">
  <link href='https://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Caveat+Brush' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Candal' rel='stylesheet' type='text/css'>
</head>
<body>
  <header class="header">
    <img width="200" height="320" src="http://images.mentalfloss.com/sites/default/files/styles/article_640x430/public/153517340.jpg"><br><span>Book Purgatory</span>
    <nav class="navbar">
      <ul>
        <li id="book"><a href="#">Books</a></li>
        <li id="music"><a href="#">Music</a></li>
        <li id="showAll"><a href="#">Show All Products for Sale</a></li>
      </ul>
    </nav>
  </header>

  <div id="content">
    <!--This is the twilight book div-->
  </div>

  <div class="footer">
    <p>Hack Reactor Cohort 26 2016 Hackathon</p>
  </div>

  <!-- calling library for Jquery -->
  <script src="https://code.jquery.com/jquery-2.1.1.js"></script>
  <!-- calling code for Jquery to fill data on div's above -->

  <!-- javascript objects here -->
  <script>

    var products = {
      books : [
      {
        id : "book1",
        name : "Twilight",
        category : "Romance and Mystery",
        price : 15,
        "picture-url" : "http://image.slidesharecdn.com/book-1-twilight-1231022548425199-1/95/book-1-twilight-1-728.jpg",
        "selling-points" : ["Drama", "Action", "Romance", "Suspense"]
      },
      {
        id : "book2",
        name : "The World of Ice and Fire: The Untold History of Westeros and the Game of Thrones",
        category : "Fantasy",
        price : 30,
        "picture-url" : "http://d.gr-assets.com/books/1400360220l/17345242.jpg",
        "selling-points" : ["Dragons", "Gods", "Mystery", "Magic", "Travel"]
      },
      {
        id : "book3",
        name : "Lord of the Flies",
        category : "Dark Fiction",
        price : 15,
        "picture-url" : "https://d.gr-assets.com/books/1327869409l/7624.jpg",
        "selling-points" : ["Classic", "coming-of-age-story", "Survival"]
      },
      {
        id : "book4",
        name : "The Girl with the Dragon Tattoo",
        category : "Action and Dark Fiction",
        price : 24,
        "picture-url" : "https://d.gr-assets.com/books/1327868566l/2429135.jpg",
        "selling-points" : ["Controversal", "Thriller", "Martial Arts"]
      }
      ],
      albums : [
      {
       id : "album1",
       name : "Twilight : Movie Soundtrack",
       category : "Soundtrack",
       price : 18,
       "picture-url" : "https://upload.wikimedia.org/wikipedia/en/b/b4/Game_of_Thrones_(season_2_soundtrack)_cover.jpg",
       "selling-points" : ["Legendary Composer", "Fully orchestrated tracks"]
     },
     {
       id : "album2",
       name: "Game of Thrones: Soundtrack",
       category: "Soundtrack",
       price: 18,
       "picture-url":
       "https://upload.wikimedia.org/wikipedia/en/b/b4/Game_of_Thrones_(season_2_soundtrack)_cover.jpg",
       "selling-points" :["Music from the T.V. Series", "Amazing Tracks"]
     },
     {
       id : "album3",
       name: "LAST MOON",
       category: "Project Album",
       price: 20,
       "picture-url":
       "https://upload.wikimedia.org/wikipedia/en/2/26/Gackt_-_Last_Moon.jpg",
       "selling-points" :["Moon Project", "Unique blend of music", "A story that spans different eras"]
     },
     {
       id : "album4",
       name: "The White Album",
       category: "Revolutionary",
       price: 150,
       "picture-url":
       "http://ecx.images-amazon.com/images/I/31pY7BT4%2BXL.jpg",
       "selling-points" :["Classic", "Sgt Peppers", "The Beatles"]
     },
     ]
   };

   

  // function to add page
  // constructs and appends new HTML elements into it
  // $('#content').append($('<div id=book1>').html( $'<div class=name>').text(book1.name)));
  function add_to_page(collection){
    var result = $('#content').append($('<div id=' + collection['id'] + '  class="products">'));
    for(var key in collection){
      result += $('#' + collection['id'] + '').append( $('<div id=' + key + '>').text(key + " : " + collection[key]));
    }
    return result;
  };

          var each = function(collection, callback){
            if(Array.isArray(collection)){
              for(var i = 0; i < collection.length; i++){
                callback(collection[i]);
              }
            }
            else
            {
              for(var key in collection){
                callback(collection[key], key, collection);
              }
            }
          }

    // JQuery Click events
    $('.navbar #book').on('click', function(e){
      $('#content').empty();
      each(products.books, add_to_page);
      return false;
    });

    $('.navbar #music').on('click', function(e){
      $('#content').empty();
      each(products.albums, add_to_page);
      return false;
    });

    $('.navbar #showAll').on('click', function(e){
      $('#content').empty();
      each(products.books, add_to_page);
      each(products.albums, add_to_page);
      return false;
    });
  </script>
</body>


</html>
